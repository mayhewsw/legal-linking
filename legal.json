{
  "dataset_reader": {
    "type": "legal_reader",
      "token_indexers": {
          "bert": {
              "type": "bert-pretrained",
              "pretrained_model": "bert-base-cased",
              "do_lowercase": false,
              "use_starting_offsets": true
          }
      }
  },
    "train_data_path": "data/train",
  "validation_data_path": "data/dev",
  "test_data_path": "data/test",
  "evaluate_on_test" : true,
  "vocabulary": {
    // for some reason this doesn't appear unless we do this.
    "tokens_to_add" : {"bert":  ["@@UNKNOWN@@"]}
  },
  "model": {
    "type": "legal_classifier",
      "text_field_embedder": {
        "allow_unmatched_keys": true,
          "embedder_to_indexer_map": {
              "bert": ["bert", "bert-offsets"]
          },
          "token_embedders": {
              "bert": {
                  "type": "bert-pretrained",
                  "pretrained_model": "bert-base-cased"
              }
          }
      },
      "const_path": "data",
      "tokens_namespace" : "bert",
      "use_sim" : true,
      "use_classifier": true,
      "doc_encoder": {
          "type": "cnn",
          "embedding_dim" : 768,
          "num_filters" : 200
      }
  },
    "iterator": {
        "type": "basic",
        "batch_size": 3
    },
    "trainer": {
        "optimizer": {
            "type": "adam",
            "lr": 0.001
        },
        "validation_metric": "+accuracy",
        "num_serialized_models_to_keep": 3,
        "num_epochs": 75,
        "grad_norm": 5.0,
        "patience": 25,
        "cuda_device": -1
    }
}
